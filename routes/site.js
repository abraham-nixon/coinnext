// Generated by CoffeeScript 1.6.3
(function() {
  var Wallet;

  Wallet = require("../models/wallet");

  module.exports = function(app) {
    app.get("/", function(req, res) {
      return res.render("site/index", {
        title: 'Home',
        user: req.user
      });
    });
    app.get("/trade", function(req, res) {
      return res.render("site/trade", {
        title: 'Trade',
        user: req.user
      });
    });
    app.get("/funds", function(req, res) {
      return res.render("site/funds", {
        title: 'Funds',
        user: req.user,
        currencies: Wallet.getCurrencies()
      });
    });
    app.get("/wallet-overview/:currency", function(req, res) {
      return Wallet.findUserWalletByCurrency(req.user.id, req.params.currency, function(err, wallet) {
        if (err) {
          console.error(err);
        }
        if (wallet) {
          return res.render("site/funds/wallet_overview", {
            title: 'Wallet overview',
            user: req.user,
            wallet: Wallet.getCurrencies()
          });
        } else {
          return res.redirect("/");
        }
      });
    });
    app.get("/settings", function(req, res) {
      return res.render("site/settings/settings", {
        title: 'Settings',
        page: 'Settings',
        user: req.user
      });
    });
    app.get("/settings/preferences", function(req, res) {
      return res.render("site/settings/preferences", {
        title: 'Preferencs - Settings',
        page: 'Settings',
        user: req.user
      });
    });
    app.get("/settings/security", function(req, res) {
      return res.render("site/settings/security", {
        title: 'Security - Settings',
        page: 'Settings',
        user: req.user
      });
    });
    app.get("/legal/terms", function(req, res) {
      return res.render("static/terms", {
        title: 'Terms'
      });
    });
    app.get("/legal/privacy", function(req, res) {
      return res.render("static/privacy", {
        title: 'Privacy'
      });
    });
    app.get("/fees", function(req, res) {
      return res.render("static/fees", {
        title: 'Fees'
      });
    });
    return app.get("/company", function(req, res) {
      return res.render("static/company", {
        title: 'Company'
      });
    });
  };

}).call(this);
